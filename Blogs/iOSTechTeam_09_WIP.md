# iOS Teach Team iOS 探究 | 第九篇 如何做好 iOS Code Review

技术组**已发布文章**列表，有兴趣的同学可以翻翻前面的文章：

### **引言**


---
* ### **常用介绍**

为了能够更好的帮助 iOS 开发者进行比较全面的代码审查，我列了一个简单的检查列表，当我们查看一个开发者的 Pull Request 时，可以参考这个检查列表，以判断提交代码是否有问题。

大多数的开发工程师都对运行良好、满足要求且易于理解和维护的干净代码感兴趣，所以我希望这个 iOS 代码审查清单可以作为一个基本的规范应用到以后的开发过程中，当然最好的情况还是整个 iOS 圈内能形成一个统一的标准，这样将会更有助于提高整体 iOS 开发者的技术能力。

1. PR中是否存在合并冲突？

如果是 - 在进一步查看代码之前返回受让人。
2. 静态分析检查是否运行？

例如。为了检查 Swift 代码风格，我们使用 Swift Lint
3.检查架构
例如。不应在演示者或视图中获取或处理数据
例如。不应在视图模型中修改视图
4. 代码是否与商定的编码准则一致？

5. 是否引入了任何新的 Xcode 警告？


6. 比计算属性更喜欢静态常量

更喜欢
静态让 c: Int = 1234
超过
静态变量 d: Int { 返回 1234 }
7.检查单一事实来源原则

例如。不要在代码的多个位置保留相同的信息
8. 避免单例

改用依赖注入
9.寻找强制展开

应避免强制展开（在 < 1% 的情况下使用）
使用 ！应该永远是一个红旗！
检查是否使用了函数的提前返回（例如警卫）
10.常数

将常量提取到结构中
11.检查幻数

避免编码，避免幻数，如果需要提取成常量
如果添加，则应注释幻数
图片描述

12.检查封装

检查公共变量或函数是否可以是私有的或私有的（设置）？
如果一个类永远不会被实例化 - 使用 enum 代替。
13.检查多态性

我们应该标记班级决赛吗？
我们应该对函数/变量使用 class 还是 static 关键字。
与继承相比，更喜欢使用协议进行组合。
14.检查单一责任

该功能应该有一个目的！如果有意义，将其一分为二。
班级不应该有太多的责任 - 如果需要，请分开。
避免使用大量视图控制器，而是添加管理器、助手和实用程序。
图片描述

15.检查self关键字的显式使用

应避免显式（不需要）使用 self ，因为它使 self 的捕获语义在闭包中更加突出，并防止在其他地方出现冗长
16.性能检查

使用 /() 而不是 + 的字符串连接
使用 isEmpty 而不是 == nil
采用 ！而不是 == false
仅实例化一次 DateFormatter
重复使用细胞
使用图像缓存
在需要的地方使用后台线程
ETC…
17.错误处理

是否所有错误情况都在代码中处理？记录错误、通知用户、重试、安全失败……
18.检查安全漏洞

是否有任何用户密码或其他秘密存储为纯文本？
是否记录了任何敏感数据？
19.检查命名

命名清晰一致。命名对于编写自文档代码很重要！
布尔值应该以 is、can、should、will... 开头
如有疑问 - 使用较长的名称（添加更多信息）而不是较短的名称（可能会带来混乱）。
使用 UpperCamelCase 表示类型和协议，lowerCamelCase 表示其他所有内容。
图片描述

20.检查重复代码

重复代码是一个很大的禁忌，应该提取和重用！
21.删除不必要的代码

删除注释代码。你总是可以用 git 取回它。
删除空的和/或未使用的变量、函数、导入…
如果仅使用默认初始化程序，则无需为结构添加显式初始化。
22.内存泄漏

闭包应该使用弱自我
代表应该很弱
检查 unowned 是否被滥用
检查任何保留周期
23.检查所有字符串是否已本地化

24.代码是否被日志覆盖？

应记录应用程序中的每个重要事件。
日志应该包含足够的信息（类、函数、参数、严重性）。
重复信息会污染日志。
25. 代码是否有据可查？

每个公共功能是否都包含评论？
代码是否包含代码的每个特定部分的注释？
每个特定的类（经理、服务、脚本……）是否都包含关于其目的的评论？
每个文件都包含版权吗？
自述文件应该更新吗？
图片描述

综上所述，我们使用此清单作为提醒和动机，以进行更好的代码审查。因此，我们正在将项目符号添加到我们的清单中，并随着时间的推移对其进行改进。

---
### **拓展知识**

---
### **总结**

---
**最后：期望接下来能再写一篇！**

### **参考资料：**


---
### **关于技术组**
iOS 技术组主要用来学习、分享日常开发中使用到的技术，一起保持学习，保持进步。文章仓库在这里：https://github.com/minhechen/iOSTechTeam 微信公众号：iOS技术组，欢迎联系进群学习交流，感谢阅读。