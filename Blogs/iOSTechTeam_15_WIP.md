# iOS Teach Team iOS 探究 | 多线程你都知道啥？(一) GCD

技术组**已发布文章**列表，有兴趣的同学可以翻翻前面的文章：

### **引言**
> 多线程使得程序内部可以分出多个线程来做多件事情，通过充分去共享资源来达到提升效率的一种编程思想。因此，为了提升用户体验，日常开发过程中必然会用到多线程，本文就详细介绍一下 iOS 开发过程中常用的多线程实现方案及注意事项。

---
* ### **GCD简介**
Dispatch，也称为 Grand Central Dispatch (GCD)，包含语言功能、运行时库和系统增强功能，为 macOS、iOS、watchOS 和 tvOS 中的多核硬件上的并发代码执行支持提供系统、全面的改进。它主要用于优化应用程序以支持多核处理器以及其他对称多处理系统。它是一个在线程池模式的基础上执行的并行任务。在 Mac OS X 10.6雪豹中首次推出，在 iOS 4 及以上版本使用。

使用 GCD 有哪些好处：
1. GCD会充分利用 CPU 内核
2. GCD 会自动管理线程的声明周期，包括创建线程，任务调度，线程销毁
3. GCD 可用于多核的并行运算

调度对象和 ARC

当使用 Objective-C 编译器构建应用程序时，所有调度对象都是 Objective-C 对象。因此，当启用自动引用计数 (ARC) 时，调度对象会自动保留和释放，就像任何其他 Objective-C 对象一样。当 ARC 未启用时，使用 dispatch_retain 和 dispatch_release 函数（或 Objective-C 语义）来保留和释放你的调度对象。您不能使用 Core Foundation 的保留和释放功能。

如果您需要在支持 ARC 的应用程序中使用保留和释放语义以及稍后的部署目标（以保持与现有代码的兼容性），您可以通过将 -DOS_OBJECT_USE_OBJC=0 添加到编译器标志来禁用基于 Objective-C 的调度对象。

这个调度框架声明了几种数据类型和函数来创建和操作他们：
一、调度队列
所有的调度队列都是先进先出队列，因此，队列中的任务的开始的顺序和添加到队列中的顺序相同。GCD自动的为我们提供了一些调度队列，我们也可以创建新的用于具体的目的。
下面列出几种可用的调度队列类型以及如何使用。
二、调度资源
它是一个监视某些类型事件的对象。当这些事件发生时，它自动将一个block放入一个调度队列的执行例程中。
三、调度组
允许将多任务分组来方便后来加入执行。任务能作为一个组中的一个成员被加到队列中，客户端能用这个组对象来等待直到这个组中的所有任务完成。
四、调度信号量
允许客户端并行发布一定数量的任务。


---
* ### **常用介绍**

---
### **拓展知识**

---
### **总结**

---
**最后：期望接下来能再写一篇！**

### **参考资料：**

* [Dispatch](https://developer.apple.com/documentation/dispatch?language=objc)

---
### **关于技术组**
iOS 技术组主要用来学习、分享日常开发中使用到的技术，一起保持学习，保持进步。文章仓库在这里：https://github.com/minhechen/iOSTechTeam 微信公众号：iOS技术组，欢迎联系进群学习交流，感谢阅读。